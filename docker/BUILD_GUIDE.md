# üõ†Ô∏è –û–∫—Ä–µ–º—ñ –∑–±—ñ—Ä–∫–∏ Backend —Ç–∞ Frontend

–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –±—ñ–ª–¥–∏—Ç–∏ –æ–∫—Ä–µ–º–æ backend —Ç–∞ frontend!

## –î–æ—Å—Ç—É–ø–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –∑–±—ñ—Ä–∫–∏

### 1. –ó–±—ñ—Ä–∫–∞ —Ç—ñ–ª—å–∫–∏ Backend (—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞)

```bash
bash docker/build-backend.sh
```

–¶–µ –∑–±—É–¥—É—î —Ç—ñ–ª—å–∫–∏ backend —á–∞—Å—Ç–∏–Ω—É (Python, RAG, API).

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
- –ó–º—ñ–Ω–∏–ª–∏ `app.py`, `src/rag/ask_cli.py`, `requirements.txt`
- –î–æ–¥–∞–ª–∏ –Ω–æ–≤—ñ Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- –ó–º—ñ–Ω–∏–ª–∏ –ª–æ–≥—ñ–∫—É RAG

### 2. –ó–±—ñ—Ä–∫–∞ —Ç—ñ–ª—å–∫–∏ Frontend (–≤–µ–±-—á–∞—Å—Ç–∏–Ω–∞)

```bash
bash docker/build-frontend.sh
```

–¶–µ –∑–±—É–¥—É—î —Ç—ñ–ª—å–∫–∏ frontend —á–∞—Å—Ç–∏–Ω—É (HTML, CSS, JS).

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
- –ó–º—ñ–Ω–∏–ª–∏ —Ñ–∞–π–ª–∏ –≤ `ui/` (HTML, CSS, JS)
- –û–Ω–æ–≤–∏–ª–∏ —Å—Ç–∏–ª—ñ –∞–±–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –î–æ–¥–∞–ª–∏ –Ω–æ–≤—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

### 3. –ó–±—ñ—Ä–∫–∞ –≤—Å—å–æ–≥–æ (Backend + Frontend)

```bash
bash docker/build-all.sh
```

–ê–±–æ —á–µ—Ä–µ–∑ docker-compose:

```bash
cd docker
docker-compose build
```

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
- –ü–µ—Ä—à–∞ –∑–±—ñ—Ä–∫–∞
- –ó–º—ñ–Ω–∏–ª–∏ —ñ backend, —ñ frontend
- –•–æ—á–µ—Ç–µ –ø–æ–≤–Ω—É –ø–µ—Ä–µ–±—É–¥–æ–≤—É

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?

Dockerfile –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **multi-stage build** –∑ –æ–∫—Ä–µ–º–∏–º–∏ targets:

1. **`builder`** - –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
2. **`backend`** - –∫–æ–ø—ñ—é—î backend –∫–æ–¥ —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
3. **`frontend`** - –∫–æ–ø—ñ—é—î —Ç—ñ–ª—å–∫–∏ —Ñ–∞–π–ª–∏ –∑ `ui/`
4. **`final`** - –æ–±'—î–¥–Ω—É—î backend + frontend

## –ü–µ—Ä–µ–≤–∞–≥–∏

‚úÖ **–®–≤–∏–¥—à–∞ –∑–±—ñ—Ä–∫–∞** - –±—ñ–ª–¥–∏—Ç–µ —Ç—ñ–ª—å–∫–∏ —Ç–µ, —â–æ –∑–º—ñ–Ω–∏–ª–æ—Å—è  
‚úÖ **–ö—Ä–∞—â–∏–π –∫–µ—à** - Docker –∫–µ—à—É—î –∫–æ–∂–µ–Ω stage –æ–∫—Ä–µ–º–æ  
‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –º–æ–∂–Ω–∞ –±—ñ–ª–¥–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω—É —á–∞—Å—Ç–∏–Ω—É  

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–º—ñ–Ω–∏–ª–∏ —Ç—ñ–ª—å–∫–∏ CSS:

```bash
# –ë—ñ–ª–¥–∏–º–æ —Ç—ñ–ª—å–∫–∏ frontend (—à–≤–∏–¥–∫–æ!)
bash docker/build-frontend.sh

# –ó–∞–ø—É—Å–∫–∞—î–º–æ
bash docker/start.sh
```

### –ó–º—ñ–Ω–∏–ª–∏ Python –∫–æ–¥:

```bash
# –ë—ñ–ª–¥–∏–º–æ —Ç—ñ–ª—å–∫–∏ backend
bash docker/build-backend.sh

# –ó–∞–ø—É—Å–∫–∞—î–º–æ
bash docker/start.sh
```

### –ó–º—ñ–Ω–∏–ª–∏ —ñ —Ç–µ, —ñ —Ç–µ:

```bash
# –ë—ñ–ª–¥–∏–º–æ –≤—Å–µ
bash docker/build-all.sh

# –ê–±–æ –ø—Ä–æ—Å—Ç–æ
bash docker/start.sh --rebuild
```

## Docker Compose

`docker-compose build` –∑–∞–≤–∂–¥–∏ –±—ñ–ª–¥–∏—Ç—å –ø–æ–≤–Ω–∏–π –æ–±—Ä–∞–∑ (`final` target).

–î–ª—è –æ–∫—Ä–µ–º–∏—Ö –±—ñ–ª–¥—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç–∏ –∞–±–æ:

```bash
# Backend
docker build --target backend -f docker/Dockerfile -t bp2026-backend:latest .

# Frontend  
docker build --target frontend -f docker/Dockerfile -t bp2026-frontend:latest .

# –í—Å–µ —Ä–∞–∑–æ–º
docker build --target final -f docker/Dockerfile -t bp2026:latest .
```

## –í–∞–∂–ª–∏–≤–æ

‚ö†Ô∏è –î–ª—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ—Ç—Ä—ñ–±–µ–Ω **–ø–æ–≤–Ω–∏–π –æ–±—Ä–∞–∑** (`final` target), —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —ñ backend, —ñ frontend.

–Ø–∫—â–æ –≤–∏ –∑—ñ–±—Ä–∞–ª–∏ —Ç—ñ–ª—å–∫–∏ backend –∞–±–æ —Ç—ñ–ª—å–∫–∏ frontend, –≤–∞–º –≤—Å–µ –æ–¥–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—ñ–±—Ä–∞—Ç–∏ final –æ–±—Ä–∞–∑ –¥–ª—è –∑–∞–ø—É—Å–∫—É:

```bash
bash docker/build-all.sh
bash docker/start.sh
```

–ê–±–æ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `start.sh` - –≤—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä–µ –≤—Å–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ.

